<div class="todo-card">
  <nz-card
    [ngClass]="{'outline' : todoItem.selected}"
    [appTodoItemColor]="collectionName"
    [nzHoverable]="true"
    [nzTitle]="cardTitle"
    [nzExtra]="extraButtons"
    (click)="selectItem()">
    <p>{{todoItem.description}}</p>
  </nz-card>
  <div [class]="'card-footer '+ (todoItem.start | colorDate)"></div>
</div>
<app-modal-window
  [title]="todoItem.title"
  #modal>
  <app-todo-details
    [todo]="todoItem"
    [collectionName]="collectionName"></app-todo-details>
</app-modal-window>

<ng-template #extraButtons>
  <button
    nz-button
    nzType="text"
    nzShape="circle"
    (click)="modal.showModal()">
    <span
      nz-icon
      nzType="edit"
      nzTheme="outline"></span>
  </button>
  <button
    nz-button
    nzType="text"
    nzShape="circle"
    (click)="deleteItem($event, todoItem.id || '')">
    <span
      nz-icon
      nzType="delete"
      nzTheme="outline"></span>
  </button>
</ng-template>

<ng-template #cardTitle>
  <ng-content select="label"></ng-content>
  {{todoItem.title}}
</ng-template>
